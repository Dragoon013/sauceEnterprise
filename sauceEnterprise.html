<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Sauce Laboratories - Sauce Labs Enterprise </title>

		<meta name="description" content="Learn how to configure, test, and manage test in your Sauce Lab enterprise environment">
		<meta name="author" content="James Tacker">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sauce.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

	  <div class="reveal">

        <style>
          .reveal .slides { text-align: left; }
          .reveal .slides h1 { text-align: center; }
          .reveal .slides h2 { text-align: center; }
          .reveal .slides h3 { text-align: center; font-variant: none; text-transform: none;}
        </style>
		<!-- Any section element inside of this container is displayed as a slide -->

        <img src="assets/images/saucelabslogo.png" style="border:0; width:100px; height:100px; background:none; position:absolute; left:0; top:0;">
        <img id="lab_pic" src="assets/images/Laboratory2.png" style="visibility:hidden; border:0; width:200px; height:200px; background:none; position:absolute; right:0; top:0;">

	        <div class="slides">

              <section data-background="rgb(226, 35, 26)">
                <h1>Sauce Labs Enterprise</h1>

                <p style="text-align:center">
	              <small>Created by James Tacker</small>
                </p>

                <p style="text-align:center">
                  <small>
                    <small>Using Reveal.js</small>
                  </small>
                </p>
              </section>

              <section>
					<h3>Trainer Intro</h3>
<!-- left column-->
                    <div style="float:left;width:50%;" class="centered">
                      <p>
                      <strong>James Tacker</strong>
                      <p>Technical Trainer</p>
                      <p>M.A. Multimedia</p>
                      <p>Previous (and current) Work:</p>
                      <li>Atlassian</li>
                      <li>Salesforce</li>
                      <li>NGINX</li>
                      <li>New Relic</li>

					  </p>
                    </div>
<!-- right column-->
                    <div style="float:right;width:50%;padding-right:0px;">
                      <img src="assets/images/Picture1.png" style="border:0;background:none; width:75%; left:0; top:0;">
                    </div>
				</section>

              <section>
                <h3>Agenda</h3>

                <div style="text-align:left;">
                    <img src="assets/images/agenda.png" style="border:none; background:none; width:80%">
                  </div>
                
              </section>

              <!-- Sauce Connect Module-->
                <section data-background="rgb(226, 35, 26)">
                  <h2>Configuring Sauce Connect ™</h2>
                   <aside class="notes">This section will cover Sauce labs tunneling app for secured network firewalls</aside>
                </section>

                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul>
<ul>                  <li>Identify purpose and use cases of Sauce Connect™</li>
                      <li>Setup and configure a single tunnel</li>
                      <li>Configure Sauce Connect with a proxy</li>
                      <li>Review security/networking protocols</li>
                  </ul>
                  <aside class="notes">In this section of the course, we're going to identify the use cases and functionality of the Sauce Connect feature, we're going to configure it, and also review some of the security and networking protocols that you should familiarize yourself with before attempting to setup this process.</aside>
                </section>
                <section>
                  <h3>Prequisites</h3>
                  <div style="float:left;width:50%;" class="centered">
                  <ul><p>Courses:</p>
                    <li>Selenium 101</li>
                    <li>Getting Started with Sauce Labs</li>
                  </ul>
                </div>
                <div style="float:right;width:50%;padding-right:0px;">
                  <ul><p>Topics:</p>
                    <li>Sauce Labs Account</li>
                    <li>Creating a Manual Test</li>
                    <li>Sharing Test Results</li>
                    <li>Archiving Tests</li>
                  </ul>
                </div>
                <aside class="notes">Before we move any further, make sure that you've at least met most of the following milestones. This course assumes foundational knowledge in Selenium such as creating manual tests, sharing and archiving said tests, and also how to navigate the basics of the SauceLabs interface.
                </aside>
              </section>

                <section>
                  <section>
                  <h3>Sauce Connect Proxy™</h3>
                  <p>Tunneling app that establishes a secure connection between local machine and Sauce Lab VM.</p>
                  <div style="position:center;float:left;width:50%;"class="centered">
                  <ul>
                    <li>Alternative to whitelisting IPs</li>
                    <li>Stablizes network connection</li>
                    <li><a href="https://wiki.saucelabs.com/display/DOCS/Sauce+Connect"target="_blank">Sauce Connect Documentation</a></li>
                  </ul>
                </div>
                <div style="position:center;float:right;width:50%;"class="centered">
                  <img src="assets/images/SC_logo.png" style="float:right;border:none; background:none; width:60%">
                </div>
                <aside class="notes">Sauce Connect Proxy™ is a tunneling VM service (proxy server) that allows you and your teams to securely test applications behind your firewall. Sauce Connect is technically not required to run tests with Sauce Labs unless the website or application is not publicly accessible.  Sauce Labs recommend to enlist the aid of a network engineer to install Sauce Connect due to the complications of network architectures.</aside>
                </section>
              <section>
                <h3>Download the Client</h3>
                <p>Download from the appropriate <a href="https://wiki.saucelabs.com/display/DOCS/Setting+Up+Sauce+Connect"target="_blank">mirror</a>. Then review your system requirements to ensure SC will work within your network.Follow enviornment guidelines listed <a href="https://wiki.saucelabs.com/display/DOCS/System+Requirements+for+Sauce+Connect"target="_blank">here</a></p>
                <div style="position:center;float:left;width:50%;padding-right:0px;text-align:left;"class="centered">
                <h4>Things to consider:</h4>
                <ul>
                  <li>A reliable Network Connection</li>
                  <li>A dedicated server for testing</li> 
                </ul>
              </div>
               <div style="position:center;float:right;width:50%;"class="centered"><img src= "assets/images/SauceConnect.png" style="border:none; background:none; float:right; width:80%">
                </div>
                <aside class="notes">The first thing we need to do is to download the appropriate client package based on the operating system of the machine your running your tests from. When configuring Sauce Connect, it's important to consider the reliabilty of your Network Connection as well as the host machine that hosts the Sauce Connect Client. Ask yourself the questions: do you control that machine? Do you have the necessary permissions to install and manage the Sauce Connect client? So on and so forth... if not, again, consult with your IT department and Network admin to help through the process before indiscriminately launching tunnels.</aside>
              </section>
              <section>
                <h3>Configure SC Client</h3>
                <ol>
                  <li>Extract the file</li>
                  <pre><code class="java" data-trim contenteditable>
                        $ tar -xvf sc-4.3.16-linux.tar.gz
                    </code></pre>
                  <li>Run SC Client with User and Access Key
                  <pre><code class="java" data-trim contenteditable>
                        $ bin/sc -u "user" -k "access_key"
                    </code></pre>
                    <aside class="notes">After you've extracted and installed the client, you need to navigate to the folder where the client exists, and run the following commands: bin/sc -u for user and -k for access key. If this information isn't readily available, you can find it in your account info of your saucelabs.com account. (navigate to the SauceLabs.com account to show where it exists on the interface) </aside>
            </section>
            <section>
              <h3>Run a Test</h3>
              <ol>
                <li>Run a manual test</li>
                <li><p>Select the tunnel from the SC dropdown list</p> <img src="assets/images/SauceConnectTunnel.png" style="float:right;border:none; background:none; width:60%"></li>
                <li>Execute the test</li>
                <li>Shutdown tunnel</li>
                <aside class="notes">We can execute a manual test after we configure SauceConnect client using the SauceLabs UI. First we go to the dropdown list in the section that reads "Sauce Connect Proxy." You'll notice that your tunnel options are limited to the amount of tunnel VMs currently running. Right now I have one here, but there are options to run concurrent tunnels, also known as tunnel pools... but we will cover that later. Tunnels are indicated by green lightening bolts, the green color is most likely influenced by the green encrypted SSL lock icon in front of an HTTPS browser connection or perhaps green most-likely abates any emotional fears revolving around security. Either way it makes the location of the tunnel options easy to find and it's specifically located at the bottom of your test configuration screen
                  </aside>
              </section>
              <section>
                  <h3>Monitoring Tunnels</h3>
                  <ul>
                    <li>Choose the "Tunnels" tab to view "Active Tunnels"</li><li>Display is list format with <i>Session ID</i> and <i>Host</i></li>
                  </ul>
                  <div align="middle"><img src="assets/images/Firefox3.png" style="border:none; background:none; width:90%">
                  </div>
                  <aside class="notes">When you choose the "tunnels" tab in the "active tunnels" tab in the SauceLabs UI, what you're actually looking at is the tunnel VM that was spun up by your SauceLab client. These Vms are emphemeral by nature, meaning once the test is completed, the Sauce Connect Client will execute a teardown proccess that will gracefully shut these VMs down. The Tunnel Vms are represented in this tab by their Session IDs and Host ID</aside>
                </section>
                <section>
                  <h3>Complete Test</h3>
                  <p>Tests using Sauce Connect will show a green lightning bolt</p>
                  <img src="assets/images/Sauce_Bolt.png" style="float:left;border:none; background:none; width:80%">
                  <aside class="notes"> Once the test is complete you can confirm the test ran through a tunnel as indicated by the green tunnel VM id.</aside>
                </section>
          </section>
                  <section>
                  <section>
                  <h3>Sauce Connect Launcher</h3>
                  <p>Use Sauce Connect browser plugin (Firefox only) to invoke methods in browser.</p>
                  <ul>
                    <li>Download client</li>
                    <li>Install Sauce Connect Add-On</li>
                    <li>Launch a Tunnel</li>
                </ul>
                <aside class="notes">There is also the option to configure the SC launcher as a browser add-on so that you can launch tunnel VMs through your Firefox browser rather than a client.</aside>
              </section>
                  <section>
                  <h3>Configure the Add-on</h3>
                  <ul>
                    <li>In Firefox, <strong>Tools> Add-Ons > Extensions</strong></li>
                    <li>Choose "Preferences"</li>
                    <li>Enter Sauce login credentials when prompted</li>
                    <li>Set the id of in "Tunnel" tab</li>
                    </ul>
                    <div align="middle"><img src= "assets/images/Firefox.png" style="border:none; background:none; width:60%">
                    </div>
                    <aside class="notes">To configure the add-on make sure you download it from the Extensions manager, then when prompted, enter your SauceLabs User and Authentication Key. Then you can set the ID of your tunnels</aside>
                </section>
                <section>
                  <h3>Launch a Sauce Connect Tunnel</h3>
                    <p>Choose <strong>Tools > Web Developer > Launch SC</strong></p>
                    <div align="middle"><img src="assets/images/Firefox2.png" style="border:none; background:none; float:center; width:50%">
                    </div>
                    <aside class="notes">After you set the details of your tunnel, you can launch it from your browser tool window, and your tunnel VM will reflect in SauceLabs.com when you select your Sauce Connect Proxy tunnel</aside>
              </section>
              </section>
              <section>
                <section>
                <h3>Sauce Connect Proxy</h3>
                <p> There are two proxying scenarios where additional configuration is needed for Sauce Connect to work:</p>
                <div align="middle"><h4>SUT Behind a Proxy</h4>
                  <img src= "assets/images/SUTBehindProxy.png" style="border:none; background:none; width:60%">
                    </div>
                <div align="middle"> <h4>SC Behind a Proxy</h4>
                  <img src= "assets/images/SCBehindProxy.png" style="border:none; background:none; width:60%">
                    </div>
                    <aside class="notes">Previously we used a simple Sauce Connect tunnel, but when we refer to Sauce Connect Proxy it still implies the usage of a tunnel. The key difference is the existence of a proxy either in front of the site under test, or in front of the host machine of the Sauce Connect client. If either of these two use cases are present, we need additional configuration for the tunnel VM to communicate through the network layers and establish a reliable connection to your SUT.</aside>
                </section>
                <section>
                  <h3>Proxy Configuration</h3>
                  <p>Command line options for configuring proxies:</p>
                  <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                        -p # (short)
--proxy # (long) host:port
-w # (short)
--proxy-userpwd # (long) user:pwd
-T # (short) 
--proxy-tunnel # (long) deploy tunnel
--pac # url </code></pre></div>
<p>Linux/Mac OS X example:</p>
<div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
./sc -u USERNAME -k ACCESS_KEY --proxy host:port --proxy-tunnel
</code></pre></div>
                  <aside class="notes"><p>The most important thing to understand about setting up Sauce Connect Proxy is that while it doesn't need to be set up on the same machine as the site or application you're testing, it must be on the same network. Generally, Sauce Connect makes two separate outbound connections for two separate purposes.</p> 
                    <ul>
                      <li>The first, which -p, --proxy <host:port> uses, is a lightweight connection to the Sauce REST API that forwards servers basic information about theSauce Connect Proxy status (for example, starting up, ready, stopping etc).</li>
                    <li>The second connection is to the actual tunnel VM created for your Sauce Connect instance.</li>
                    <p>Enabling the -T, --proxy-tunnel flag will instruct the SauceConnect connection to proxy through a tunnel using the specified host and port that you defined with -p, --proxy flag. But be aware that since the Sauce Connect proxy is already TLS secured, and a large volume of data tends to go over this connection, Adding an additonal step in the middle of the connection in the form of a proxy, can affect test performance.</p>
                      <p>Normally you should only need to use -p, --proxy <host:port> (and perhaps -w, --proxy-userpwd <user:pwd> for credentials), but the use case for the -T, --proxy-tunnel is if your network doesn't allow outgoing connections on port 443. If your tests are slow, check with your network administrator about adding network or firewall exception rules for these connections.</p> <p>And finally the pac command enables automatic proxy configuration for any urls or files that specific in your pre-test settings.</p>
                  </aside>
                </section>
                <section>
                  <h3>Automatic Proxy Configuration</h3>
                  <p>Automatically configured based on OS settings</p>
                  <ul>
                    <li>Windows: IE and system-wide settings</li>
                    <li>Max OSX: Prefrences/Network</li>
                    <li>Linux: .env variables:</li>
                    </ul>
                    <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                      http_proxy
HTTP_PROXY
all_proxy
ALL_PROXY # http://host.name.port || host.name.port   </code></pre></div>
                    <p>Disable proxy detection with:
                      <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                        ./sc -z --no-autodetect
                      </code></pre></div>

                  <aside class="notes"><p>As of Sauce Connect 4.3.1, proxies and PAC settings are autoconfigured based on the settings of the operating system on the machine where it is installed.
                  On Windows, Sauce Connect will use the proxy settings for Internet Explorer, as well as the system-wide proxy settings that set in the Control Panel.</p>
                  <p>On Mac OS X, Sauce Connect will use the proxy settings in Preferences/Network. Both proxy and PAC settings are supported.</p>
                  <p>On Linux, Sauce Connect looks for these environment variables, in this order:</p>
                  <ul>
                    <li>http_proxy</li>
                     <li>HTTP_PROXY</li>
                     <li>all_proxy</li>
                     <li>ALL_PROXY. They can be in the form http://host.name:port or host.name:port.</li>
                   </ul>
                   <p>You can disable automatic proxy detection with the command line option  ./sc -z --no-autodetect.</p>
                </aside>
                </section>
                <section>
                  <h3>Additional Options</h3>
                  <ul>
                    <li><a href="https://wiki.saucelabs.com/display/DOCS/Sauce+Connect+with+a+Proxy+Setup#SauceConnectwithaProxySetup-BrowserMobProxyConfigurationBrowserMob"target="_blank">BrowserMob Proxy Configuration</a></li>
                    <li>Enable debugging</li>
                    <li>Tunnel only specfic domains</li>
                    <li>Assign Tunnel ids</li>
                  </ul>
                  <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                      --verbose #(long)
-v #(short flag)
--tunnel-domains "url" #e.g. mydomain.com,saucelabs.com,mysite.com
--tunnel-identifier "id"
</code></pre></div>
                  <aside class="notes"> <ul><li>Enable verbose debugging if you find the tunnel vm spinup process to be too quiet for liking and you want to see the actually handshake and connection processes.</li> <li>-vv will output HTTP headers and --tunnel-domians will only requests for domains in the list being sent through the Sauce Connect tunnel.</li><li>Tunnel Identifiers: Assign id to specific Sauce Connect instance. Future jobs will use this tunnel only when explicitly specified by the tunnel-identifier DesiredCapability in a Selenium client. We will cover this more in the upcoming parralelization section of sauce connect test Configuration Options and  more information about the syntax for setting tunnel-identifier as a DesiredCapability.</li><li>And finally you can create a BrowserMob configuration to handle these connection level details but we don't cover that extensively in this course, so for more information click on the link here and it will re-direct you to the docs with a step by step instrucitons</li></aside>
              </section>
            </section>
            <section>
              <section>
              <h3>High Availibility Configuration</h3>
                      <p>
                      <strong>Use Cases</strong>
                      <ul>
                        <li>Parallel Tests</li>
                        <li>Non-interrupted Tests</li>
                        <li>Rolling Restarts</li>
                      </ul>

            </p>

              <aside class="notes">As mentioned earlier, it's possible to spin up a pool of Tunnel VMs, it's especially useful if you: 
                <ul>
                  <li>Use high concurrency (run more than 200 jobs in parallel), since tunnel resource usage (memory, CPU) is limited on the Sauce Labs side.</li> 
                  <li>Use a Highly Available Sauce Connect setup. Sauce Connect instance, or tunnel VM instance going down won't affect tests.</li>
                  <li>Use rolling restarts of Sauce Connect. In this case, you can start a new tunnel instance which new tests will start using, and shut down your "old" Sauce Connect instance gracefully without interruptions.</li></aside>
            </section>
            <section>
              <h3>HA Logic Flow</h3>
              <!-- left column-->
                    <div style="float:left;width:40%;" class="centered">
                     <ul>
                      <li>Allows for multiple routes</li>
                      <li>Protection from route failures</li>
                      <li>Load Balances traffic</li>
                    </ul>
                    </div>
              <!-- right column-->
              <div style="float:right;width:50%;padding-right:0px;">
                      <img src="assets/images/HAConfiguration.png" style="border:0;background:none; left:0; top:0;">
                    </div>
              <aside class="notes">In this diagram, we see a setup that allows for multiple network routes when reaching the site(s) under test. There are variations to this of course, for example some of the Sauce Connect instances could be in the same network infrastructure as the site(s) under test. You can also imagine leveraging different virtual routes inside the same physical network. What is gained by setting up tunnels in this manner is redundancy and failovers for Sauce Connect Proxy should one network route fail for example.</aside>
            </section>
            <section>
              <h3>High Availability Settings</h3>
              <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                --tunnel-identifier # set ids for tunnels
--no-remove-colliding-tunnels # enables "pool" of tunnels
--wait-tunnel-shutdown # wait for all active jobs
</code></pre></div>

              <aside class="notes">Assign <ul>
                <li>--tunnel-identifier will set id to the tunnel VMs specific to the Sauce Connect instance. Future jobs will use this tunnel only when specified by this flag which we set in the  DesiredCapability of a Selenium client.</li>
                  <li>the --no-remove-colliding-tunnels flag tells Sauce Connect to not remove identified tunnels with the same name, or any other default tunnels if this is a default tunnel. Jobs will be distributed between these tunnels, enabling load balancing and high availability. If we don't specify this flag colliding tunnels are removed by default. </li>
                  <li>--wait-tunnel-shutdown waits for all active jobs using the tunnel to finish. By default, Sauce Connect will terminate the tunnel even when there are active jobs. This is one way to ensure all tasks complete gracefully before the teardown process begins</li>
                </ul>
                </aside>
            </section>
            <section>
                  <h3>Running Multiple SC Tunnels</h3>
                  <p>Creating unique tunnel identifiers can help manage the tunnel instances</p>
                  <h4>Use Cases:</h4>
                  <ul>
                    <li>Run different tunnels for local virutal/metal machine and/or CI server</li>
                    <li>Multiple, concurrent Jobs on the same CI server</li>
                  </ul>

                  <aside class="notes">If you're implementing a tunnel pool as part of your existing setup or as part of your continuous integration platform, make sure you set tunnel identifiers to manage those instances and also to provide visibility. This way you can set multiple concurrent jobs with similar or the exact same names reflected in your local or CI builds</aside>
              </section>
            <section>
                <h3>Sauce Connect Pool Setup</h3>
                <p>A "pool" of tunnels is a grouping of multiple SC tunnels acting as one tunnel</p>
                <p>Creating multiple tunnels with the same identifiers to manage the tunnel instances will cause problems unless the -no-remove-colliding-tunnels is enabled</p>
                
                <aside class="notes">One important note to remember when configuring your pool, because what we're essentially doing is spinning up duplicate tunnel vms with similar or same IDs we need to add the -no-remove-colliding-tunnels to our proxy configurations so that our SUT or firewall rules allow the connections instead of throwing back 400 or 500 HTTP response codes.</aside>
              </section>
            <section>
              <h3>High Availability Example</h3>
              <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                #Linux or Mac OSX
./sc -u YOUR_USERNAME -k YOUR_ACCESS_KEY --tunnel-identifier myTunnel --no-remove-colliding-tunnels --wait-tunnel-shutdown
 
#Windows
sc.exe -u YOUR_USERNAME -k YOUR_ACCESS_KEY --tunnel-identifier myTunnel --no-remove-colliding-tunnels --wait-tunnel-shutdown
</code></pre></div>
<aside class="notes">We can start Sauce Connect from the command line with these commands in order to set up Sauce Connect Proxy with High Availability. However you need to run this command on each machine that you want to have access to the tunnel pool. (ask Kevin and neil if it's possible to include this step as part of a pre-run executable or even somehow include this configuration as a build process in the CI/CD process to help speed up the launch cycle of tunnels?)</aside>
          </section>
        </section>
              <section>
                <h3>Maven Plug-In</h3>
                <p>Programatically invoke Sauce Connect processes.</p>
                <ol>
                  <li>Pull or clone project from <a href="https://github.com/saucelabs/sauce-java/tree/master/sauce-connect-plugin"target="_blank">GitHub© repo</a></li>
                  <li>Add the script to your pom.xml file</li>
                  <li>Invoke the following methods:</li>
                   <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                        start-sauceconnect # invokes a process
stop-sauceconnect # stops a process</code></pre></div>
                  <p>With the following parameters:</p>
                  <div style="float:left;width:100%;" class="centered"><pre><code class="zsh" data-trim contenteditable>
                        sauceUsername (mandatory) # user
sauceAccessKey (mandatory) # access key
port # port
httpsProtocol # protocol</code></pre></div>
                </ol>
                <aside class="notes"><p>It's possible to programmatically invoke the Sauce Connect proccess. The following commands are:</p>
                  <ul>
                <li>start-sauceconnect # invokes a Sauce Connect process</li>
<li>stop-sauceconnect # stops a running Sauce Connect process</li>
<li>sauceUsername (mandatory) # the name of the Sauce user used to launch the Sauce Connect process</li>
<li>sauceAccessKey (mandatory) # the access key of the Sauce user used to launch the Sauce Connect process</li>
<li>port # the port which Sauce Connect will be launched on, defaults to 4445</li>
<li>httpsProtocol # protocol used</li></aside>
            </section>
            <section>
              <h3>Jenkins Plug-In</h3>
              <p>Sauce Connect can leverage Jenkins CI/CD pipeline using Sauce OnDemand CI Plugin</p>
              <ul>
              <li>Requires installation and configuration of Jenkins</li>
              <li>"Sauce first, Jenkins second"</li>
            </ul>
              <div align="middle">
                  <img src= "assets/images/Jenkins.png" style="border:none; background:none; width:35%">
                    </div>
              <aside class="notes"> We will go into a deeper dive later on about the Jenkins plugin when we explore the continuous integration section of this course. Basically, including your tests as part of the build process in Jenkins can contribute to the effectivness of your QA and product rollout or deployment process. However it's worth mentioning that before you begin testing in Jenkins, it's a good idea to ensure the manually tests are running correctly in Sauce Labs first.</aside>
            </section>
            <section>
              <section>
                <h3>Securing Sauce Connect</h3>
                <p>Whitelist these sites:</p>
                  <ul>
                    <li>http://gp.symcb.com/gp.crl</li>
                    <li>http://gp.symcd.com/</li>
                  </ul>
                  <p>so that Sauce Connect SSL certificates are verified.</p> <p>Also consult the list of domains <a href="https://knowledge.rapidssl.com/support/ssl-certificate-support/index?page=content&id=ALERT603&actp=RSS&viewlocale=en_US"target="_blank">here</a> to make sure Sauce Connect can connect to all trusted certificate authorities.</p>
                  <aside class="notes">To ensure the data being sent back and forth between the Sauce Client, and the Site Under test via the tunnel vm is secure, it's recommended to whitelist the following domains that SauceLabs utilizes in order to verify it's certificates while they're en route. There is also a list of domains you may want to forward to your network administrator as well as consult yourself to ensure the client uses established TLS connections to dedicated SauceLabs endpoints. </aside>
              </section>
                <section>
                  <h3>SSL Bumping</h3>
                  <p>Similar to an MiTM interception, enabled by default.</p>
                  <div align="middle"><img src="assets/images/SSLBump.png" style="border:none; background:none; width:70%">
                  </div>
                 <!-- <ol>
                    <li>Sauce Labs creates VMs and installs a controlled SSL certificate</li>
                    <li>Sauce Labs browser requests resource from SC server</li>
                    <li>SC server passes encrypted request to SC client</li>
                    <li>SC client fetches and returns through the encrypted connection</li>
                    <li>SC server decrypts traffic</li>
                    <li>SC re-encrypts using certificate</li>
                    <li>Browser accepts traffic due to controlled certificate.</li>
                  </ol> -->
                  <aside class="notes"><p>Sometimes companies use test environments that have self-signed or invalid SSL certificates.  These certificates aren't trusted by stock browsers (such as those installed on Sauce Labs' infrastructure), so they will interrupt tests with security warnings, and Selenium won't or can't dismiss them. There's also the issue of trying accomodate every type of certificate for every type of browser for each user with a self-signed certificate. Now, some of you may find ways to automatically do this via a script, but in some cases this isn't feasible and then the user would have to wait for a Sauce Lab staff member to re-create the images before the tests could run.</p>
                    <p>So the way to combat this issue, is to use SSL Bumping, and the way it works is Sauce-Labs will re-sign certs by default. And the actual process works like this:</p>
                    <ol>
                      <li>When Sauce Labs creates the VMs, it installs an SSL certificate that Sauce Labs controls, provided by a company called CyberVillians</li>
                      <li>When the Sauce Labs browser needs a resource, it requests it from the Sauce Connect server.</li>
                      <li>The Sauce Connect Proxy server passes that request to the Sauce Connect Proxy client, running on your user's side.  ALL traffic between the client and server is then encrypted.  The SSL traffic is encrypted twice; once by the original server, and again by Sauce Connect Proxy.</li>
                      <li>The Sauce Connect Proxy client then fetches the resource and returns it through an encrypted connection, to the Sauce Connect Proxy Server.</li>
                      <li>The Sauce Connect Proxy server then decrypts the traffic, and if it's SSL traffic, the server decrypts it a second time.</li>
                      <li>After processing the request, Sauce Connect Proxy then re-encrypts SSL traffic using the CyberVillians certificate, and sends the response to the browser.</li>
                      <li>Because the browser trusts the CyberVillians certificate, it will accept the traffic.</li>
                    </ol>
                  </aside>
                </section>
                <section>
                  <h3>Disadvantages of SSL Bumping</h3>
                  <p>Most stem from breaking the trust chain—-symptoms include:</p>
                  <ul>
                    <li>504 HTTP Errors</li>
                    <li>WebSocket Failure</li>
                    <li>AJAX errors</li>
                  </ul>
                  <p></p>
                  <h4>Workarounds:</h4>
                  <p>Public Address:</p> <pre><code class="zsh" data-trim contenteditable>
                        --direct-domains dancepants.com,*.mydomain.com,mysite.com
                      </code></pre>
                  <p>Private Address:</p> <pre><code class="zsh" data-trim contenteditable>
                        --no-ssl-bump-domains mydomain.com,saucelabs.com,mysite.com
-B #short flag
                    </code></pre>
                   <aside class="notes"><p>You may run into a situation where your HTTPS site won't load correctly or your tests will throw back 504 HTTP errors. This will often happen when your network components such as browsers and servers that use WebSockets, won’t work if the traffic to them has been altered, which Sauce Connect Proxy achieves with SSL Bumping.</p> <p>SSL bumping can also affect sites that are highly dependent on AJAX.</p> <p>There are two workarounds for these problems:</p>
                    <ul><li>If you're site is publicly accessible you can run the direct domain command. Your requests will circumvent Sauce Connect Proxy to reach the site.</li><li>If you're site is NOT publically accessible, then you can disable SSL Bumping using the --no-ssl-bump-domains argument when launching Sauce Connect Proxy or with the -B flag. Then your test traffic is no longer decrypted, and passes through directly to the browser running your tests along with the certificate of your SUT.</li> </ul><p>However there is no silver bullet, after one of these two workarounds is achieved, SauceLabs will no longer cache resources so test execution will run slower. Also, if there are any underlying issues with the origin site’s SSL certificate, these may generate SSL errors that will interfere with test execution. So make sure you consult with you network admin if you're still having issues.</p> 
                   </aside>
                </section>
              </section>
              <section>
                <h3>Sauce Connect Best Practices</h3>
                <p>Security/Networking</p>
                <ul>
                <li>Designated Server</li>
                <li>Firewall Rules</li>
                <li>Intrusion Detection</li>
              </ul>
                <p>Concurrency</p>
                <ul>
                  <li>30 Per Tunnel</li>
                </ul>
                <aside class="notes"><p>so just for a rewview of the Sauce Connect Proxy best practices</p><ul>
                <li>Use a designated Server for Sauce Connect Proxy client</li>
                <li>Asses firewall rules so Sauce Client ONLY has access to the specific host it's trying to test</li>
                <li>Configure Intrusion Detection on Sauce Connect Proxy logs so that we know the correct interception is happening rather than an alternative or spoofed interception</li>
                <li>To maintain performance, keep the amount of conncurrent connections per tunnel to 30 or less</li>
              </ul>
                </aside>
              </section>
            <section>
                <section data-state="lab">
                  <h3>Lab 1.0: Run a single tunnel</h3>
                  <p>Configure a manual test using Sauce Connect</p>
                  <aside class="notes">
                    <p>Lab Topics</p>
                    <li>manual test</li>
                    <li>configure/launch Sauce connect client</li>
                    <li>Check results in Sauce Labs</li>
                  </aside>
        </section>
       <!--  <section data-state="lab">
          <h3>Lab 1.2: Configure Automatic Proxy</h3>
          <p>Using your browser settings configure an automatic proxy. Then disable the automatic proxy using the CLI.</p>
          <aside class="notes">
                    <p>Lab Topics</p>
                    <li>Automatic test</li>
                    <li>CLI</li>
                  </aside>
        </section> -->
      </section>
              <!-- Sauce Virtual Machines Module-->
              <section data-background="rgb(226, 35, 26)">
                  <h2>Sauce Virtual Machines</h2>
                   <aside class="notes">Here we will talk about how to configure your VMs to run Sauce effectively</aside>
                </section>
                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul>
                  <li>Set up Pre-run executables</li>
                  <li>Download apps to a VM</li>
                  </ul>
                  <aside class="notes"><p>Specifically, we're going to talk about setting up pre-run executables that will automate some execution steps when we launch our Sauce VMs and Tunnel Vms. We will also briefly cover Sauce Storage which allows you to upload and download pertinent files that are necessary for your test cycle</p></aside>
                </section>
                <section>
                  <section>
                  <h3>Pre-Run Executables</h3>
                  <p>A script that allows you to download assets, and configure browsers settings on Sauce VM prior to testing</p>
                  <ul><p>Examples:</p>
                    <li>Set Window Preferences</li>
                    <li>Ignore Alert Messages</li>
                    <li>Install applications</li>
                  </ul>
                  <aside class="notes"><p>So what is a pre-run executable exactly? Well, in it's simplest form, it is a script that you download to the Sauce Labs virtual machine and run prior to a test in order to change settings for Safari, Internet Explorer, or any other browser, or to configure the virtual machine specifications that your tests will run on.</p><p>The reason pre-run executables are important is because the zero point of truth for an end-user is often the browser on their local machine.<p><p>And unfortunatley for you the developer, there tends to be little to no uniformity amongst browsers--even if we're talking about the same version, because end users will often modify things on the client side to fit their needs with ad-ons, preferences, security settings and the like</p>. <p>Also, problems with browser or virtual machine configurations can cause issues with your tests.</p> <p>So it's a good practice to make changes to the browser and/or VM configuration before your test runs.</p><p>Pre-run executables allow us to configure browser profiles and settings on the actual test VMs.</p><p>For example, if we wanted to test against a security-conscious user profile that includes using incognito windows, pop up blockers, disabled JavaScript etc, we can set our pre-test to enable these user preferences. Another option is we can set browser settings to ignore alert messages and message dialogs that would normally cause our tests to fail.</p>
                  </aside>
                </section>
                <section>
                  <h3>Pre-run Configuration</h3>
                  <p>The <strong>'prerun'</strong> capability points to the public location of your resources (apps and/or scripts). Below is an example of ignoring a Safari warning pop-up</p></p>
                  <ul>
                    <li>Shell script:<div><pre><code class="zsh" data-trim contenteditable>
                        #!/bin/bash
defaults write com.apple.Safari WarnAboutFraudulentWebsites false
}
                      </code></pre></div></li>
                      <li>Test Script:<div>
                  <pre><code class="zsh" data-trim contenteditable>
                    desired_capabilities['prerun'] = {
    'executable':'http://myscriptstorage.com/disable_fraud.sh',
    'background': 'false'
}
                      </code></pre></div></li>
                    </ul>
                  <aside class="notes"><p>This example overrides the Safari browser preferences to ignore a security message so that a test doesn't fail. Steps to configure your pre-run executable</p>
                    <ol>
                      <li>Write your script to reflect the changes you want to make to the browser or virtual machine configuration.</li>
                    <li>Put your script in a location where Sauce can access it.</li>
                    <li>For example, your script could be stored in GitHub or in Sauce Storage. You can also use Gist to easily host your executables.</li> 
                    <li>Use the link pointing to the raw file contents.</li>
                    <li>In your test script, set the prerun capability to point to the location of your pre-run executable.</li>
                    <li>This example illustrates setting the prerun desired capability to point to myscriptstorage.com, where the disable_fraud.sh script used as an example is hypothetically located.</li></aside>
                </section>
                <section>
                  <h3>Silent Mode</h3>
                  <p>Install executables without modal dialog messages</p>
                  <p>Syntax:</p>
                  <pre><code class="zsh" data-trim contenteditable>
                    --silent #long
-S #abbreviated
                  </code></pre>
                  <p>Example:</p>
                  <pre><code class="zsh" data-trim contenteditable>
                    "prerun": {
    "executable": "http://url.to/your/executable.exe",
    "args": [ "=sS", "-a", "-q" ],
    "background": true,
    "timeout": 120
}
                      </code></pre>
                  <aside class="notes"><p>If you have a large application to install or, an executable with a lot of steps, you can enable Sauce to install the executable wihtout any modal dialogs or installation process showing up in the test messages. Silent mode is an argument of the 'prerun' capability.</p><p>One of the arguments that can be added to the prerun capability in your test configuration options is --silent, which can be abbreviated to /S.</p></aside>
                </section>
                </section>
                <section>
                  <h3>Downloading Files to Sauce VM</h3>
                  <p>Pre-run scripts can download files from public location and upload to Sauce VMs prior to testing.</p>
                    <ul><p>OS Support:</p>
                    <li>Mac OS X 10.6-10.10</li>
                    <li>Windows 7,8,8.1,XP</li>
                    <li>Linux</li>
                  </ul>
                  <p>Linux Example: shell downloads to /tmp directory</p>
                  <pre><code class="zsh" data-trim contenteditable>
                        
#!/bin/bash
wget -O /tmp/file.txt http://mywebsite.com/file.txt
                      </code></pre>
                  <aside class="notes"><p>You can also create a pre-run executable script that will return the names and checksums of files that exist on Sauce Storage.</p><p>This topic contains examples of scripts for that purpose, based on the OS you are using for your tests, and how to configure the prerun capability in your tests to reference them. </aside>
                </section>
                <section>
                  <h3>Editing the Host File</h3>
                  <p>Create host file for Sauce VM and load using 'prerun' in test script</p>
                  <h4>Host File: (OS X example)</h4>
                  <pre><code class="zsh" data-trim contenteditable>
                        
#!/bin/bash
echo "162.222.75.243 www.google.com" >> /etc/hosts
                      </code></pre>
                      <h4>Test Script snippet:</h4>
                      <pre><code class="zsh" data-trim contenteditable>
                        
self.desired_capabilities['prerun'] = {'executable':'https://githubUser/
master/EditDNS.sh', 'background': False }
                      </code></pre>
                  <aside class="notes"><p>Another way to configure a Sauce VM with a prerun executable is to actually edit the VM's host file. The use case for doing this is when your test's Selenium WebDriver tries to access a particular domain, like google.com for example...it will instead redirect to a new IP address like (saucelabs.com). As with other prerun configurations, the basic steps are:</p>
                    <ul>
<li>Write a script with a URL redirect.</li>
<li>Upload the script to a publicly accessible location, (like GitHub or Sauce Storage)</li>
<li>Set the prerun capability in your test script to load the script as a host file in the Sauce Labs virtual machine.</li>
</ul></aside>
                </section>
                <section>
                  <h3>Security and File Types</h3>
                  <ul>
                    <li>Who has access to VMs?</li>
                    <li>Who has access to the test?</li>
                    <li>Data Center Access?</li>
                    <li>VM Teardown Process?</li>
                  </ul>
                  <aside class="notes">
                    <p>Here are some FAQs that customers generally ask about in regards to the VM permissions and accessibility</p><p>Generally, the Sauce VMs aren't "open" beyond setting pre-run executables, and in terms of who has access to the Vms, only the test user should have access to upload, and download files and executables</p><p>In terms of who can provide access, that's generally the Job Owner, and he or she can grant access through the share functionality in SauceLabs</p><p>Now at an architectural level the only individuals who have access to the data center are SauceLab employees with proper clearance. And only the director of Operations or Engineering can provide access to the Data Center</p><p>The VMs themselves are created in memory and are decommisioned upon test completion. For example, once Sauce Connect is terminated (typically via ctrl-c), a call will be made from Sauce Connect to the REST API with instructions to terminate the tunnel VM. Sauce Connect will continue to poll the REST API until the tunnel VM has been halted and deleted</p>
                  </ul>
                </aside>
                </section>
                
                <section data-state="lab">
          <h3>Lab 2.0: Setup Pre-Run Script</h3>
          <p>Set up some pre-run executables and run your test. Re-install your executable using the "slient" flag. View the logs and compare the output.</p>
          <aside class="notes">
                    <p>Lab Topics</p>
                    <li>Automatic test</li>
                    <li>CLI</li>
                  </aside>
        </section>

              <!-- Sauce REST API Module-->
                <section data-background="rgb(226, 35, 26)">
                  <h2>Sauce REST API</h2>
                   
                </section>

                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul>
                    <li>Administer basic API Interaction</li>
                    <li>Set Dashboards, capabilities, and rate limits</li>
                    <li>Update Sauce Job status reports</li>
                  <li>View, manage, and share archived test and build data</li>
                  </ul>
                  <aside class="notes">
                    <p>Here in this section we will dive into the specifics of the Sauce REST API and learn about the potential use cases as well as methods you can externally invoke  in order to fit your test and business requrirements</p>
                  </aside>
                </section>
                <section>
                  <h3>API Overview</h3>
                  <ul>
                    <li>Accessed over HTTPS</li>
                    <li>Requests encoded via JSON</li>
                    <li>Standard HTTP Request Methods</li>
                    <li>Uses Basic HTTP Authentication</li>
                    <li>Supported API Clients</li>
                    <ul>
                      <li>Java</li>
                      <li>Ruby</li>
                      <li>PHP</li>
                      <li>Node.js</li>
                    </ul>
                  </ul>
                  <aside class="notes">
                    <p>Generally the REST API must travel via an encrypted connection, and it is encoded via JSON.</p><p>It will only accept standards methods such as GET, POST, and PUT</p><p>And the connection uses Basic HTTP Authentication which involves using the credentials provided by your SauceLabs Account and Access Key.</p><p>The following Clients are supported and each have slight differences in terms of syntax and endpoint creation</p><p>For more details I recommend checking the REST API docs for the client you're most interested in, for today we're primarily going to cover the Java APIs</p>
                  </aside>
                  </section>
                  <section>
              <h3>Use Cases</h3>
              <ul>
                <li>Build Naming</li>
                <li>Results Sharing</li>
                <li>Set "Pass/Fail" Conditions</li>
                <li>Reporting</li>
                <li>Temporary Storage</li>
                </ul>
                <aside class="notes">
                    <p>Some common use cases for wrestling with the Sauce REST API are to set your build details, sharing details, pass/fail conditions, and reporting details programmaticlly from external systems whether in a script or using a curl command from within a shell or terminal</p>
                  </aside>
            </section>
            <section>
              <h3>Rate Limits</h3>
              <p>HTTP header used to prevent over-utilization of API calls. Enforced two ways:</p>
              <ul>
                <li>Authenticated Users: Account Keys</li>
                <li>Non-Authenticated Users: IP Address</li>
              </ul>
              <p>To manually disable the rate limit:</p>
              <pre><code class="zsh" data-trim contenteditable>
                      $curl -X GET "https://saucelabs.com/rest/v1/hello" -H 'X-RateLimit-Enable: false' -i
                      </code></pre>
                      <aside class="notes">
                    <p>API calls from external systems can often eat up alot of VM/system resources, so it's in our best interest to set our rate limites to prevent redundant and overflowing API calls.</p><p>We can throttle these calls one of two ways:</p>
                    <ul>
                      <li>Only allowing authenticated users to make calls through their Sauce Login Credentials</li>
                      <li>Or to restrict API calls from specific IP addresses or ranges</li>
                    </ul>
                    <p>If for whatever reason, we need to disable a rate limit, for example there's a one off call being made in a testing user, we can use a curl command with the following flags and then pass the X-RateLimit-Enable HTTP header with a value of false</p>
                  </aside>
            </section>
            <section>
              <h3>Request Fields</h3>
              <p>Each API may have options to append parameters. For a full list consult the REST API documentation table for each method:</a></p>
              <ul>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Account+Methods"target="_blank">Account Methods</a></li>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Information+Methods"target="_blank">Information Methods</a></li>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Job+Methods"target="_blank">Job Methods</a></li>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Temporary+Storage+Methods"target="_blank">Storage Methods</a></li>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Test+Activity+and+Usage+Methods"target="_blank">Activity Methods</a></li>
                <li><a href="https://wiki.saucelabs.com/display/DOCS/Tunnel+Methods"target="_blank">Tunnel Methods</a></li>
              </ul>
              <aside class="notes">There are various Methods for specific aspects or behaviors of our test scripts that we can manipulate by making REST API calls. For example:</p>
                <ul>
                  <li>if you want to pull account information,</li><li>or maybe you need specific details about a running job,</li><li>or maybe you want to pull something from the Sauce Storage VM,</li><li>or maybe you simply want visibility on all active connections or jobs that are currenly running.</li></ul><p>whatever the case may be, we've provided links to the docs which has a full list for each method, as well as examples and variations for request methods and the optional fields</p></aside>
            </section>
                  <section>
                    <section>
                    <h3>Account Methods</h3>
                    <p>Standard rest URL:<a href="https://saucelabs.com/rest/v1/"target="_blank">https://saucelabs.com/rest/v1/</a></p>
                      <p>GET Methods:</p>
                        <pre><code class="zsh" data-trim contenteditable>
                            #get user
users/:username
#get user concurrency
users/:username/concurrency
#get sub accounts
users/:username/list-subaccounts
#get sibling accounts
users/:username/siblings
#get sub accounts
users/:username/subaccounts
                      </code></pre>
                      <aside class="notes"><p>Account methods are useful to pull active SauceLab user or sub user details when a test is running</p>the following methods can not only display the account name, as well as any children account for that specific team, but we can also view the relative concurrency for a given user as well</p>
                        <p>Just a note, and this will repeat for the following slides, but when we want to access one of these REST methods, we can append these API calls to the standard endpoint at the top of this slide (highlight https://saucelabs.com/rest/v1/)</p>
                        <p>So here are the GET methods, we can use for the Account Method API which will:</p><ul>
                        <li>Access basic account information</li
                          <li>Check account concurrency limits</li>
                          <li>Get a list of sub accounts associated with a parent account</li>
                          <li>Get a list of sibling accounts associated with provided account</li>
                          <li>Get information about a specific sub account</li>
                      </aside>
                    </section>
                    <section>
                      <h3>Account Methods</h3>
                      <p>Standard rest URL:<a href="https://saucelabs.com/rest/v1/"target="_blank">https://saucelabs.com/rest/v1/</a></p>
                       <p>POST Methods:</p>
                       <pre><code class="zsh" data-trim contenteditable>
                      #creating a sub user account
curl https://saucelabs.com/rest/v1/users/YOUR_USERNAME \
-u YOUR_USERNAME:YOUR_ACCESS_KEY \
-X POST \
-H 'Content-Type: application/json' \
-d '{"username": "subaccount-username", 
 "password": "subaccount-password", 
 "name": "subaccount-name", 
 "email": "subaccount-email-address"}'

#Change access key
users/:username/accesskey/change
                      </code></pre></li>
                      <aside class="notes"><p>In terms of the Account API POST methods we can:</p>
                        <ul>
                          <li>actually create a sub user account using the following flags</li>
                          <li>And change user access key during runtime</li>
                        </ul>
                        <p>Now, these aren't all of the GET or POST methods, again for a full list consult the docs</p>
                      </aside>
                  </section>
                </section>
                <section>
                  <section>
                  <h3>Sauce Job Methods</h3>
                  <h4>Multiple Job Methods</h4>
                  <ul>
                    <li>High level metrics of jobs on a user basis</li>
                    <li>Sort jobs by duration or type</li>
                  </ul>
                  <p></p>
                  <h4>Single Job Methods</h4>
                  <ul>
                    <li>Stop currently running jobs based on ID</li>
                    <li>Acquire assets associated with a given job</li>
                  </ul>
                  <aside class="notes"><p>These API calls allow you to access high level details about running or completed jobs on a user basis, or you can send API calls to stop a current job or retrieve assets from a given job</p>
              </section>
              <section>
                <h3>Multiple Job Methods</h3>
                <p>Standard rest URL:<a href="https://saucelabs.com/rest/v1/"target="_blank">https://saucelabs.com/rest/v1/</a></p>
                <pre><code class="zsh" data-trim contenteditable>
                :username/jobs #GET jobs
:username/jobs?limit=:number_of_jobs #GET number of jobs
:username/jobs?full=:get_full_info #GET Full jobs
:username/jobs?to=:time || from=:time #GET jobs within a time frame
:username/jobs?format=:job_format #GET jobs by specific format
                </code></pre>
                <aside class="notes"><p>If you want to affect multiple jobs using the API, the syntax requires specific arguments passed through the flags. For example:</p>
                  <ul>
                    <li>If you want to get the last ten jobs ran by a give user you can type in: curl -u YOUR_USERNAME:YOUR_ACCESS_KEY \ https://saucelabs.com/rest/v1/YOUR_USERNAME/jobs?limit=10</li>
                    <li>If you want to get the full number of jobs ran to date, you can pass a boolean value as the job argument like so: curl -u YOUR_USERNAME:YOUR_ACCESS_KEY \ https://saucelabs.com/rest/v1/YOUR_USERNAME/jobs?full=true </li>
                    <li>And as another example, you can access jobs by format, or list the jobs that occured within a specific timestamp or duration</li>
                  </ul>
                </aside>
              </section>
              <section>
                <h3>Single Job Methods</h3>
                <pre><code class="zsh" data-trim contenteditable>
                  :username/jobs/:job_id #UPDATE or DELETE job
:username/jobs/:job_id/stop #Stop job
:username/jobs/:job_id/assets #GET or DELETE job asset names
:username/jobs/:job_id/assets/:file_name #GET job asset files
                </code></pre>
                <aside class="notes"><p>Here are the jobs to affect a single running job: edit or stop an existing job, edit job assets, or get the asset files</p><ul>
                  <li>For example if you want to Edit an existing job, you can enter the following command: <pre><code class="zsh" data-trim contenteditable> curl -u YOUR_USERNAME:YOUR_ACCESS_KEY \ 
-X PUT -H "Content-Type: application/json" \ 
-d '{"tags": ["testing-rest-api"],  "name": "REST API Test",  
"custom-data": {"source": "Testing REST API"}}' \ 
https://saucelabs.com/rest/v1/YOUR_USERNAME/jobs/YOUR_JOB_ID</code></pre> </aside>
              </section>
             </section>
               <section>
                  <h3>JS Unit Testing</h3>
                  <p>Start JS Testing</p>
                    <p><pre><code class="zsh" data-trim contenteditable>:username/js-tests</code></p></pre>
                    <p><pre><code class="zsh" data-trim contenteditable>curl https://saucelabs.com/rest/v1/YOUR_USERNAME/js-tests \
-X POST \ 
-u YOUR_USERNAME:YOUR_ACCESS_KEY \ 
-H 'Content-Type: application/json' \ 
--data '{  "platforms": [["Windows 7", "firefox", "27"],  ["Linux", "googlechrome", ""]],  "url": "https://saucelabs.com/test_helpers/front_tests/index.html",  "framework": "jasmine"}'</code></p></pre>
                  <p>Get JS Test Status</p>
                  
                    <p><pre><code class="zsh" data-trim contenteditable>:username/js-tests/status</code></p></pre>
                    <p><pre><code class="zsh" data-trim contenteditable>curl https://saucelabs.com/rest/v1/YOUR_USERNAME/js-tests/status \ 
-X POST \ 
-u YOUR_USERNAME:YOUR_ACCESS_KEY \ 
-H 'Content-Type: application/json' \ 
-d '{"js tests": ["JOB_ID_1","JOB_ID_2"]}'</code></p></pre>
                <aside class="notes"><p>Start JS Testing: Start your JavaScript unit tests on as many browsers as you like with a single request. The custom framework checks window.global_test_results on the test page and uses whatever object supplied there to get test results.</p><p>Get Status: Get the status of your JS unit tests. The js test api is (required) beacause it defines an array of job ids which you would like the status of</p><p></aside>
                </section>
            <section>
              <section>
                <h3>Test (Single Job) Methods</h3>
                  <p>Use the update_job method to set "Passed/Failed" test conditions in Sauce Labs</p>
                  <pre><code class="zsh" data-trim contenteditable>
                        curl -X PUT \
-s -d '{"passed": true}' \
-u YOUR_USERNAME:YOUR_ACCESS_KEY \
https://saucelabs.com/rest/v1/YOUR_USERNAME/jobs/YOUR_JOB_ID 
                    </code></pre>
                    <aside class="notes"><p>The update_job method is a Single Job PUT method that allows us to edit the existing job. There are a number of request fields that we can append to the API that will alter the behavior of the existing job such as:</p>
                      <ul>
                        <li>name: [string] Change the job name</li>
<li>tags: [array of strings] Change the job tags</li>
<li>public: [string or boolean] Set job visibility to "public", "public restricted", "share" (true), "team" (false) or "private"</li>
<li>passed: [boolean] Set whether the job passed or not on the user end. In terms of marking test as pass or fail, this is one of the most important request fields to be aware of when using the update_job API calls to be aware of</li>
<li>build: [int] The build number tested by this test</li>
<li>custom-data: [JSON] a set of key-value pairs with any extra info that a user would like to add to the job. Note that the max data allowed is 64KB</li>
                      </ul>
                    </aside>
              </section>
              <section>
                  <h3>Dashboards</h3>
                  <p>Custom dashboards can utilize the REST API so that admins can perform test operations</p>
                  <p>Example:</p>
                  <ul>
                    <li><a href="http://www.sayeureqa.com/"target="_blank">eureQa</a></li>
                  <aside class="notes">By leverging front-end technologies like JavaScript, HTML, and CSS, we can create dashboards or visual plugins that can display our SauceLabs data in other systems. For example we can make WebService calls in Salesforce to display job information, or we can plug the JSON output into a dashboard like Splunk by using a GET Method. eureQA, is a strong use case and partner of this technology. For more information visit their webpage to see how they utilize SauceLabs REST API to make automated Salesforce testing more accessible and managible for Admins></aside>
                </section>
              <section>
                <h3>Real-time Job Activity</h3>
                <p>Get user information about concurrency, minutes, and jobs used.</p>
                <pre><code class="zsh" data-trim contenteditable>
                  curl -i https://saucelabs.com/rest/v1.1/users/:username/concurrency
{"timestamp": 1452260901.596546, "concurrency": {"self": 
{"username": "YOUR_USERNAME", "current": {"overall": 0, "mac": 0, "manual": 0},"allowed": 
{"manual": 100, "mac": 100, "overall": 100, "real_device": 30}},"ancestor": 
{"username": "ANCESTOR_USERNAME", "current": {"overall": 0, "mac": 0, "manual": 0}, "allowed": {"manual": 100, "mac": 100, "overall": 100, "real_device": 30}}}}
                </code></pre>
                <aside class="notes">Get information about concurrency, minutes and jobs used by the user over a specific duration (default 90 days). Concurrency is separated in mean and peak concurrency. The result shows real-time numbers in JSON format for the parent account and all of its sub-accounts. There is also a "totals" section at the end which tallies the numbers across all accounts.</aside>
              </section>
              <section>
                <h3>Monitoring User Accounts</h3>
                <p>Retun JSON feed of running job counts broken down by account name and job status.</p>
                <pre><code class="zsh" data-trim contenteditable>
                curl -i https://saucelabs.com/rest/v1.1/users/:username/activity
                {
    "subaccounts": {
        "YOUR_USERNAME": {
            "all": 30,
            "in progress": 20,
            "queued": 10,
        },
        "CHILD_USERNAME": {
            "all": 15,
            "in progress": 10,
            "queued": 5,
        },
    },
    "totals": {
        "all": 45,    
        "in progress": 30,
        "queued": 15,
    }
}
                </code></pre>
                <aside class="notes">Use the activity API to get currently running job counts broken down by account and job status. This example shows the number of jobs grouped by the job status for the requesting user and for its subaccounts. The response also includes a "totals" field that summarizes all the results</aside>
              </section>
            </section>
            <section>
              <h3>Sauce Storage</h3>
              <ul>
              <li>Eliminates network latency factor</li>
               <li>Upload mobile apps, Selenium .jars, and prerun executables</li>
             </ul>
              <pre><code class="zsh" data-trim contenteditable>
              /storage/:username/:file_name
                </code></pre>
                <p>Use the "overwrite=true" parameter to enable overwriting </p>
                <pre><code class="zsh" data-trim contenteditable>
                curl -u YOUR_USERNAME:YOUR_ACCESS_KEY \
-X POST \
-H "Content-Type: application/octet-stream" \
https://saucelabs.com/rest/v1/storage/YOUR_USERNAME/test_file_name?overwrite=true \
--data-binary @PATH_TO_TEST_FILE 
  </code></pre>
  <aside class="notes">The storage API is a POST method that can upload a file to the temporary sauce storage. The storage will only retain the files for seven days and by default. By default, the REST API prevents overwriting files already stored in the temporary sauce storage. The overwrite=true query parameter in this example can be added to allow overwriting. </aside>
            </section>
            <section>
              <h3>Get SC Tunnel Information</h3>
              <p>Standard rest URL:<a href="https://saucelabs.com/rest/v1/"target="_blank">https://saucelabs.com/rest/v1/</a></p> 
              <pre><code class="zsh" data-trim contenteditable>
                :username/tunnels #returns response fields with tunnel info
#id
#owner
#status
#host
#creation_time
                </code></pre>
              <p>Getting a Tunnel (OS X Example):</p>
              <pre><code class="zsh" data-trim contenteditable>
              curl https://saucelabs.com/rest/v1/YOUR_USERNAME/tunnels/
YOUR_TUNNEL_ID -u YOUR_USERNAME:YOUR_ACCESS_KEY
              </code></pre>
              <p>Deleting a Tunnel (Windows Example):</p>
              <pre><code class="zsh" data-trim contenteditable>
              curl https://saucelabs.com/rest/v1/YOUR_USERNAME/tunnels/
YOUR_TUNNEL_ID -u YOUR_USERNAME:YOUR_ACCESS_KEY -X DELETE
              </code></pre>
              <aside class="notes">The Tunnels GET method retrieves all running tunnels for a specific user and the Delete Tunnel method will shutdown a tunnel based on ID. In both cases you'll need to pass your user account and access key with the -u flag (-u YOUR_USERNAME:YOUR_ACCESS_KEY -X), or the tunnel won't shutdown</aside>
            </section>
             <!--  <section>
                <h3>Creating Test Links</h3>
                <p>There are three types of links you can create:
                  <ol>
                    <li>Links to Jobs that Require a Login</li>
                    <li>Links to Jobs that Don't require a Login</li>
                    <li>Temporary Links to Jobs</li>
                  </ol>
                </section>
                <section>
                  <h3>Links That Require Login</h3>
                
                  <p>To access a specific job locally:</p>
                  <ul>
                    <li>Write ID to log file</li>
                    <li>Create a URL with following format</li>
                    <pre><code class="zsh" data-trim contenteditable>http://saucelabs.com/jobs/YOUR_JOB_ID</code></pre>
                    <li>Then replace YOUR_JOB_ID with the session ID</li>

                    <aside class="notes">When a client requests a new browser session, a session ID is returned to the client. Sauce uses that ID for accessing test results.</aside>

            </section>
            <!-- <section>
              <h3>Links That Don't Require Login</h3>
              <p>Use authentication tokens, to prevent login requirements. Auth tokens are generated on a job basis.
                <p> For more details on this approach, and also temporary links, refer to <a href="https://wiki.saucelabs.com/display/DOCS/Building+Links+to+Test+Results" target="_blank"> the Documentation.</a></p>
              </section>
          </section> -->

                <section data-state="lab">
                  <h3>Lab 3.0: Display Accounts</h3>
                  <p>In this lab we will:</p>
                  <ol>
                    <li>Retrieve account information</li>
                    <li>Createa a sub account user</li>
                    <li>Display the full list of accounts</li>
                </section>
                <section data-state="lab">
                  <h3>Lab 3.1: Monitor Job Activity</h3>
                  <p>Set Job annotation using the REST API and run another test to output real time job activity</p>
                  <p>Get the tunnel information for that job</p>
                </section>
                <section data-state="lab">
                  <h3>Lab 3.2: Sauce Storage</h3>
                  <p>Using the "Upload File" method, upload the test assets into Sauce Storage. Then, use the "Get Stored Files" method to retrieve the same file.
                  </section>

<!-- Test Parallelization Module-->
                <section data-background="rgb(226, 35, 26)">
                  <h2>Test Parallelization</h2>
                  <aside class="notes"> Here we will discuss the differences between suite level vs. test case level, and other atomic testing practices</aside>
                </section>
                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul><li>Review the Java Test Framework</li>
                    <li>Explore using Sauce Runner with CI/CD</li>
                  <li>Understand the levels of parallelization</li>
                  </ul>
                  <aside class="notes">
                    <p>More specifically, this section of the course will give us a brief overview of the supported testing frameworks, and specifically we will review how the Java test framework operates. Then we will switch gears, and explore the Sauce Runner feature as well how it interfaces with CI/CD plugins. And finally we will discuss the hierarchy of parallelization.</p>
                  </aside>
                </section>
                  <section>
                <section>
              <h3>Test Automation Frameworks</h3>
              <ul><p>Java Frameworks:</p>
                <li>JUnit</li>
                <li>TestNG</li>
              </ul>
              <ul><p>Other Frameworks:</p>
                <li>Python: <a href="https://github.com/saucelabs-sample-test-frameworks/Python-Pytest-Selenium"target="_blank">Py.test</a></li>
                <li>Ruby: <a href="https://github.com/saucelabs-sample-test-frameworks/Ruby-RSpec-Selenium"target="_blank">Rspec</a>, <a href="https://github.com/saucelabs-sample-test-frameworks/Ruby-RSpec-Capybara"target="_blank">Capybara</a>, <a href="https://github.com/saucelabs-sample-test-frameworks/Ruby-RSpec-WatirWebdriver"target="_blank">WatirWebdriver</a></li>
                <li>Javascript: <a href="https://github.com/saucelabs-sample-test-frameworks/JS-Protractor-Selenium"target="_blank">Protractor</a></li>
              </ul>
              <aside class="notes">
                   <p>Running tests in parallel can accelerate your team's development process and facilitate a continuous integration/continuous delivery pipeline. Sauce Labs provides many test frameworks with several scripts to demonstarte how to run tests in parallel. These scripts are set in an "AS-IS" state, meaning they're primarily function is to demonstrate the testing process and to provide a proof of concept within that framework.</p>
                  </aside>
            </section>
            <section>
              <h3>Maven Test Runner</h3>
              <pre><code class="zsh" data-trim contenteditable>
              $ export SAUCE_USERNAME=#your Sauce Labs username
$ export SAUCE_ACCESS_KEY=#your Sauce Labs access key
                </code></pre>
                <pre><code class="zsh" data-trim contenteditable>
              $ mvn test-compile
$ mvn versions:display-dependency-updates
$ mvn test
                </code></pre>
              <aside class="notes">
                   <p>After downloading the sample scripts in the Sauce Labs repo, ensure that Maven is installed, export your Sauce Credentials, and compile the project dependicies. Then run the test and check your Sauce Dashboard to see multiple tests running in parallel.</p>
                  </aside>
            </section>
          </section>
            <section data-state="lab">
          <h3>Lab 4.1: Run Maven Parallel Test</h3>
          <p>Download the sample files/pom.xml from <a href="https://saucelabs.com/rest/v1/"target="_blank">this repo link.</a> Run a Maven Test in your ReadyTech environments.</p>
          <aside class="notes">
                    <p>Lab Topics</p>
                    <li>Test Parallelization</li>
                    <li>TestNG</li>
                  </aside>
        </section>
            <section>
                  <section>
                  <h3>Sauce Runner</h3>
                  <!-- left column-->
                    <div style="float:left;width:50%;" class="centered">
                  <p>Facilitates Selenium test parallelization</p>
                  <ol>
                    <li>Point to repo link where test is located</li>
                    <li>Select platform combinations</li>
                    <li>Run test</li>
                    <li>(Optional) Use REST API to run test from within CI/CD environment</li>
                  </ol>
                </div>
                  <!-- right column-->
                    <div style="float:right;width:35%;padding-right:0px;">
                      <img src="assets/images/RUNNER.png" style="border:0;background:none; left:0; top:0;">
                    </div>
                  <aside class="notes">
                   <p>Sauce Runner facilitates server-side execution of your Selenium scripts, reduces latency, and allows Sauce Labs to automatically handle things like test parallelization and platform selection.
The way it works is you provide a link to the GitHub or Bitbucket repository where your tests are located, and select which platform and browser combinations you want to test against. You can even kick off the test suite from within your continuous integration environment by means of a REST API command that Sauce provides.</p>
                  </aside>
                </section>
                <section>
                  <h3>Configuring Your Repo</h3>
                  <p>Repo must be configured so Sauce Runner can read it. See examples in repo for details.</p>
                  <ul><p>Adjust the sauce.yml file to:</p>
                    <li>Set environment variables</li>
                    <li>Pass system variables (leveraging Surefire plugin)</li>
                  </ul>
                  <pre><code class="zsh" data-trim contenteditable>
                  language: "java"
maven-version: "3.1.1"
define:
invocationCount: 2
var2: "one two"
              </code></pre>
                  <aside class="notes">
                   <p>In order for Sauce Runner to run your tests, you must ensure that your repo is configured in such a way that Sauce Runner can read the repo. Sauce Labs have built examples for each of the supported languages and frameworks, which you can check out on Github. Edit the .yml files to set environment variables or pass sytem variables if you're running maven. The way that works is Sauce Runner leverages the Maven Surefire plugin and then you can define parameters in your .yaml file.</p>
                  </aside>
                </section>
                <section>
                  <h3>Creating a New Test Suite</h3>
<!-- left column-->
                    <div style="float:left;width:50%;" class="centered">
                      <ol>
                    <li>Enter a Suite Name</li>
                    <li>Enter repo URL and branch</li>
                    <li>Enter Language</li>
                    <li>Select Browsers</li>
                    <li>Select OS</li>
                  </ol>
                    </div>
<!-- right column-->
                    <div style="float:right;width:50%;padding-right:0px;">
                      <img src="assets/images/TestSuite.png" style="border:0;background:none; left:0; top:0;">
                    </div>
                  
                  <aside class="notes">
                   <ol>
                    <li>When entering your Repo URL and branch name that you have a deployment key if it's a private repository</li>
                    <li>Select the Language along with it's dependencies managers or any frameworks required</li>
                    <li>Select the types of browsers you want to test on. This will trigger a separate window that will display version numbers, screen resolutions, device types etc.</li>
                    <li>Next, select the platform OS then select add to selected browsers</li>
                    <li>If you're using Sauce Connect Proxy make sure to select the tunnel you want to use.</li>
                    <li>After you select Save, Sauce Runner will generate a YAML configuration file.</li>
                   </ol>
                  </aside>
                </section>
                <section>
                  <h3>Running Your Test Suite</h3>
                  <!-- left column-->
                    <div style="float:left;width:50%;padding-right:0px;" class="centered">
                     <ol>
                    <li>Download YAML</li>
                    <li>Add YAML to repo root</li>
                    <li>Run Test Suite</li>
                    <li>Review your Test Details</li>
                  </ol>
                    </div>
<!-- right column-->
                    <div style="float:right;width:50%;padding-right:0px;">
                      <img src="assets/images/YAML.png" style="border:0;background:none; left:0; top:0;">
                    </div>
                  <aside class="notes">
                   <p>Download and add the YAML config to the root directory of your repository, and run the test within Sauce Labs to ensure it's desired capabilities. You can review the test status at the Sauce Labs Dashboard. Also if you're using a private repo you will need to add and commit your deployment key to your repo.</p>
                  </aside>
                </section>
                </section>
                <section data-state="lab">
          <h3>Lab 4.2: Run Test Suite</h3>
          <p>Clone the existing git repo provided by sauce labs into a local directory. Create a test suite, add the deployment key, and run the test.</p>
          <aside class="notes">
                    <p>Lab Topics</p>
                    <li>Test Suites</li>
                    <li>Parallelization</li>
                  </aside>
        </section>
                <section>
                  <h3>Using Sauce Runner with CI Platforms</h3>
                  <p>Run your Test Suites from within your CI platform</p>
                  <h4>Step one: Create a Build Step</h4>
                  <p>(Depending on the platform, steps may be different)</p>
                   <div align="middle"><img src="assets/images/BUILDSTEP.png" style="border:none; background:none; width:40%">
                  </div>
                  <aside class="notes">
                   <p>Depending on which CI plugin your using, the steps will be different, in this screenshot here, we're using the Jenkins plugin. And we're using the build step action in the project configuration screen, and we're going to execute this command through a shell.</p>
                  </aside>
                </section>
            <section>
              <h3>REST Command</h3>
              <h4>Step Two: Copy + Paste REST CURL Command</h4>

                    <div style="align:middle;width:100%;padding-right:0px;">
                      <img src="assets/images/RESTCURL.png" style="border:0;background:none; left:0; top:0;">
                    </div>
              <aside class="notes">
                  <p>Once we've added the build step here, we can copy the curl command that is located in our test suite details page in SauceLabs.com and paste it into the build step shell action.</p></aside>
            </section>
            <section>
              <h3>Example</h3>
              <!-- left column-->
                    <div style="float:left;width:70%;padding-right:0px;">
                      <img src="assets/images/RanFromJenkins.png" style="border:0;background:none; left:0; top:0;">
                    </div>
                    <div style="float:right;width:30%;padding-right:0px;">
                      <p>Build Running from Jenkins via REST CURL command</p>
                    </div>
<!-- right column-->
                    <div style="float:left;width:70%;padding-right:0px;">
                      <img src="assets/images/RunnerResults.png" style="border:0;background:none; left:0; top:0;">
                    </div>
                    <div style="float:right;width:30%;padding-right:0px;">
                      <p>Results of Build</p>
                    </div>
                  <aside class="notes">Finally, we can build the project from within Jenkins and switch back to SauceLabs.com and choose the SauceRunner tab. There we will see the active build running along with the concurrent connections. When the test completes, we will also see the results of the build, whether it was a success for failure and in the right hand side we can view the history of builds as well as their theri success or failure indicated by a check mark.</aside>
          </section>
                <section>
                     <h3>Small, Atomic, and Autonomous Testing</h3>
                     <p>Small: Tests should be short and succinct</p>
                     <p>Atomic: Tests should focus on testing a single feature.</p>
                     <p>Autonomous: Tests should be independent of other tests.</p>

                     <aside class="notes">

                       <p>Short - If you have a test suite of 100 tests running concurrently on 100 VMs, then the time it will take to run the entire suite will be determined by the longest/slowest test case. Keeping your tests small ensures that your suite will run efficiently and provide you with results faster. </p>
                       <p>Atomic - The test makes clear exactly what it is that you're testing. If the test fails, then you should also have a very clear idea of what needs to be fixed. </p>
                       <p>Autonomous - Tests should not be dependent on the results of one test to run successfully. In addition, an autonomous test should use its own data to test against, and not create potential conflicts with other tests over the same data.  </p>
                     </aside>
                </section>
                <!-- <section>
                  <section>
                  <h3>Test Suite Parallelization</h3>
                </section>
                <section>
                  <h3>Test Case Parallelization</h3>
                </section>
                </section> -->
              <section data-state="lab">
                  <h3>Lab 4.3:Configure Sauce Runner with Jenkins</h3>
                  
                </section>

                <!-- CI & CI Plugins Module-->
                <section data-background="rgb(226, 35, 26)">
                  <h2>CI and CI Plugins</h2>
                  <aside class="notes">We'll discuss how to enable CI plugins. </aside>
                </section>

                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul>
                    <li>Understand the general purpose of CI/CD Pipeline</li>
                    <li>Explore the CI Plugins</li>
                  </ul>
                  <aside class="notes"></aside>
                </section>
                <section>
                  <h3>Overview of CI/CD Pipeline</h3>
                  <img src="assets/images/sauceCI2.png" style="border:0; text-align:center; background:none;">
                    <p style="text-align:center;">Continuous Integration/Continuous Development</p>
                    <aside class="notes">
                      <p>Sauce Labs' value as a time saver is apparent even in its role in Continuous Integration and Delivery. </p>
                      <p>Traditionally, testing and QA are bottlenecks for application delivery and release. Writing automated tests, maintaining testing infrastructure, painful manual testing, all consume huge amounts of time. The work is never done either, because the product is always changing.</p>
                      <p>Sauce Labs takes away those worries though. With Selenium and Appium testing, we remove the barrier of time consuming test writing, and with Sauce Labs itself, we remove the need to have a propietary infrastructure. Sauce Labs provides the infrastructure for you, allowing you to test on a variety of platforms in a speedy manner. So you can focus on development, and releases, and leave the testing to Sauce Labs.</p>
                      <p>Sauce Labs reduces the pain of testing, so that instead of traditionally waiting until the end of the development life cycle to test, you can test iteratively, as you go through each step of development.</p>
                    </aside>
                </section>
                <section>
                  <h3>Available CI Plugins</h3>
                  <ul>
                    <li>TeamCity</li>
                    <li>Visual Studio</li>
                    <li>Bamboo</li>
                    <li>Bitbucket Pipelines</li>
                    <li>Jenkins</li>
                    </ul>
                    <div align="middle">
                  <img src= "assets/images/plugins.png" style="border:none; background:none; width:90%">
                    </div>
                </section>
                <section>
                  <h3>Benefits of CI Plugins</h3>
                  <ul>
                    <li>User interface to pass environment variables to tests</li>
                    <li>Automate launch and teardown process for Sauce Connect Proxy</li>
                    <li>Handle reporting throught SaucleLabs Test Publisher</li>
                  </ul>
                </section>
                <section>
                  <section>
                    <h3>Installing Sauce OnDemand</h3>
                    <ul><p>Install Sauce OnDemand plugin through the Jenkins Admin page<p> 
<li>Click "Manage Jenkins"</li>
<li>Click "Manage Plugins"</li> 
<li>Click the "Available" tab</li>
<li>Search and select Sauce OnDemand Plugin</li> 
<li>Download and install after restart</li>
</ul>
<aside class="notes">The Sauce OnDemand plugin allows user to populate environment variables on the Jenkins server that can be used in tests (e.g. Sauce USER and ACCESS_KEY) The plugin file is fairly large, so download may take several minutes.  
In the plugin installation dialog, select Restart Jenkins when installation is complete and no jobs are running.</aside>
                  </section>
                  <section>
                    <h3>Configuring OnDemand</h3>
                    <ul>
                      <li>Pass Environment Variables</li>
                      <li>Set Authentication</li>
                      <li>Set Desired Capabilities</li>
                      <li>Set Jenkins Capabilities</li>
                      <li>(Optional) Change Binary Locations</li>
                      <li>(Optional) Enable Sauce Connect CLI options</li>
                    <aside class="notes">The Jenkins plugin provides an interface for storing your Sauce Labs authentication credentials as environment variables on the Jenkins server, which is one of our best practices for testing with Sauce. This allows you to reference your credentials without having to hardcode them into your tests, and because the plugin manages authentication at the global level, you can have multiple jobs running at the same time that use these credentials. </aside>
                  </section>
                </section>
                  <section>
                  <h3>Passing Environment Variables</h3>
<pre><code class="zsh" data-trim contenteditable>
                        SAUCE_USERNAME # user used for OnDemand
SAUCE_ACCESS_KEY # key used for OnDemand user
SAUCE_ONDEMAND_BROWSERS # JSON string representing Desired Browsers
SELENIUM_HOST # Host address of Selenium server
SELENIUM_PORT # Port address of Selenium server
                    </code></pre>
                    <aside class="notes">These are some of the variables used for the OnDemand Jenkins plugin, We can specify the details of the actual Selenium grid by using SELENIUM_HOST and PORT. As well as the Sauce Access_key and Username to allow us to send REST calls during the build process.</aside>
                  </section>
                  <section>
                    <h3>Setting Authentication</h3>
                    <p>Example:</p>
                    <pre><code class="zsh" data-trim contenteditable> 
                    WebDriver driver = new RemoteWebDriver(
new URL("http://"+System.getenv("SAUCE_USERNAME")+":"
+System.getenv("SAUCE_ACCESS_KEY")+"@ondemand.saucelabs.com:80/wd/hub",
            desiredCapabilities);
          </code></pre>
          <aside class="notes">In this example we're setting the authentication via our selenium script and referencing the environment variables we stored in Jenkins the using the Sauce OnDemand plugin.</aside>
        </section>
                  <section>
                    <section>
                      <h3>Set Desired Capabilities in Test Script</h3>
                      <p>Configure Variables in Test Scripts:</p>
                    <pre><code class="zsh" data-trim contenteditable>                        desiredCapabilities.setBrowserName(System.getenv("SELENIUM_BROWSER"));
desiredCapabilities.setVersion(System.getenv("SELENIUM_VERSION"));
desiredCapabilities.setCapability(CapabilityType.PLATFORM, System.getenv("SELENIUM_PLATFORM"));
                    </code></pre>
                    <aside class="notes">Next we can set the capabilites again using the stored environment variables such as Selenium host, version, and even the desired browsers</aside>
                  </section>
                  <section>
                    <h3>Setting Capabilities for Jenkins</h3>
                    <p>Configure a SAUCE_ON_DEMAND env variable if you plan on selecting multiple OS/browser combinations for your parrallel tests</p>
                    <p>Configure SELENIUM_PLATFORM, SELENIUM_VERSION, and SELENIUM_BROWSER for a single operating test.</p> 
                  <aside class="notes">So thus far we've set indivudal variables whenever we want to run one build with one platform/selenium host and port combo. But what if we want to run parrallel tests using different browser and OS combos? Here is where we use Sauce_On_demand variable where we specify these details in a list (next slide shows example).</aside>
                  </section>
                  <section>
                    <h3>Example</h3>
                    <pre><code class="zsh" data-trim contenteditable> 
                    [
    {
        "platform":"LINUX",
        "os":"Linux",
        "browser":"firefox",
        "url":"sauce-ondemand:?os=Linux&browser=firefox&browser-version=16",
        "browserVersion":"16"
    },
    {
        "platform":"VISTA",
        "os":"Windows 2008",
        "browser":"iexploreproxy",
        "url":"sauce-ondemand:?os=Windows 2008&browser=iexploreproxy&browser-version=9",
        "browserVersion":"9"
    }
]
</code></pre>
                    <aside class="notes">Here in our Sauce_on_demand varibable we're storing data for two separate platforms, and the inclusion of the Sauce_on_demand variable allows Jenkins to run these tests in parrallel during the build process</aside>
                  
                  </section>
                </section>
                  <section>
                    <section>
                    <h3>Configure SC Launch and Teardown</h3>
                    <ol>
                      <li>Extract SC binary</li>
                      <li>Change Global Default location</li>
                      <li>Change Per-Project Default location</li>
                      <li>Set SC Command Line Options</li>
                      <li>(Optional)Set Unique Tunnler Ids</li>
                    </ol>
                    <aside class="notes"> 
Do not worry if your Jenkins server is behind a firewall because the Jenkins plugin for Sauce automatically installs Sauce Connect, but you will need to configure your project to use it. There are also global and per-project configuration options for Sauce Connect. The first step to running Sauce Connect with Jenkins is to enable it under the build environment settings under Sauce ondemand Support. There will be a checkbox that asks you to enable Sauce Connect. If the checkbox is selected, Sauce Connect will launch a new tunnel everytime you run a Jenkins build. Note that if you do run Sauce Connect then the Selenium HOST and PORT environment variables need to change to loclahost:4445</aside>
                  </section>
                  <section>
                    <h3>Changing the Binary Locations</h3>
                    <p>Change Global Binary location</p>
                    <ol>
                      <li>Click "Manage Jenkins" in Jenkins admin page.</li>
                      <li>Click "Configure System"</li>
                      <li>Navigate to the "Sauce Support" section</li>
                      <li>Edit location in "Sauce Connect Working Directory"</li>
                    </ol>
                    <p>Per-project Binary location</p>
                    <ol>
                      <li>Click "Configure"</li>
                      <li>Click "Advanced" in "Sauce Connect Advanced Options"</li>
                      <li>Editlocation in "Sauce Connect Working Directory"</li>
                    </ol>
                    <aside class="notes">When you run a Jenkins build with Sauce Connect enabled, the default behaviour of the plugin is to extract the Sauce Connect binary that is appropriate for your OS to your home directory. You can change the location where the plugin extracts Sauce Connect for specific projects, or at the global level for all projects. Note that Sauce Connect should always run on the same network as the site or application under test, but does not have to be on the same machine.</aside>
                  </section>
                  <section>
                    <h3>Set Sauce Connect CLI Options</h3>
                    <p>Global</p>
                    <ol>
                      <li>Click "Manage Jenkins" in Jenkins admin page.</li>
                      <li>Click "Configure System"</li>
                      <li>Navigate to the "Sauce Support" section</li>
                      <li>Edit CLI options in "Sauce Connect Options"</li>
                    </ol>
                    <p>Per-Project</p>
                    <ol>
                      <li>Click "Configure" in Jenkins project page</li>
                      <li>Click "Advanced" in "Sauce Connect Advanced Options"</li>
                      <li>Edit CLI options in "Sauce Connect Options"</li>
                    </ol>
                    <aside class="notes">There are also options to run Sauce Connect on a salve Jenkins node rather than a master node, as well as running a unique tunnel per Jenkins build. To achieve the later you just need to include the Tunnel identifer environment variable in addition to the Selenium HOST PORT variable</aside>
                  </section>
                </section>
                  <section>
                    <section>
                    <h3>Setup Build Reporting</h3>
                    <p>Depends on CI/CD plugin environment variables.</p>
                    <ul>
                      <li>Full list <a href="https://wiki.saucelabs.com/display/DOCS/Environment+Variables+Used+by+the+Jenkins+Plugin"target="_blank">here.</a></li>
                    </ul>
                    <aside class="notes">Successful build reporting depends on passing the correct environment variables to your CI/CD platform, and then setting their values. For a full list of environment variables used by the Jenkins plugin, consult the documentation </aside>
                  </section>
                  <section>
                    <h3>Build Capability</h3>
                    <p>Set the build desired capability to the value of the JOB_NAME and BUILD_NUMBER environment variable. Like so:
                    <pre><code class="zsh" data-trim contenteditable>
                      DesiredCapabilities capabilities = new DesiredCapabilities();
// ...
capabilities.setCapability("build", System.getenv("JOB_NAME") + "__" + System.getenv("BUILD_NUMBER"));
                    </code></pre>
                    <aside class="notes">Here we're grabbing the job-name and build-number as environment variables in our selenium script.</aside>
                  </section>
                  <section>
                    <h3>Marking Tests</h3>
                    <ul>
                      <li>In Jenkins, navigate to the "Post-Build Actions."</li>
                      <li>Select "Run Sauce Labs Test Publisher."</li>
                      <div align="middle">
                  <img src= "assets/images/post-build.png" style="border:none; background:none; width:40%">
                    </div>
                    <aside class="notes">Once we've set those two environment variables and also set them in our test script, we can send the Jenkins build results to the Sauce Labs Test Publisher. Howerver, if you did not configure your build capability, or if you set the incorrect JOB_NAME and BUILD NUMBER in the previous step this option will appear grayed out like you see it here.</aside>
                  </section>
                  <section>
                    <h3>Pass Session ID to Jenkins</h3>
                    <p>Sauce plugin parses test results file based on JOB_NAME</p>
                    <pre><code class="zsh" data-trim contenteditable>
                    SauceOnDemandSessionID=session_id job_name=some_job_name
                    </code></pre>
                    <p>Obtain session ID and ouptut to Jenkins via stdout</p>
                    <pre><code class="zsh" data-trim contenteditable>
                      private void printSessionId() {
 
String message = String.format("SauceOnDemandSessionID=%1$s job-name=%2$s",
(((RemoteWebDriver) driver).getSessionId()).toString(), "some job name");
System.out.println(message);
}
                    </code></pre>
                    <p>
                    <aside class="notes">As part of the post-build activities, the Sauce plugin will parse the test result files in an attempt to associate test results with Sauce jobs. It does this by identifying lines in the stdout or stderr that have this format:

                    The session id can be obtained from the RemoteWebDriver instance and the job-name can be any string, but is generally the name of the test class being executed.
To make sure that your test results and Sauce jobs are associated properly, you need to output the session id to stdout. For example, this is the code you would use to output the session id to the Java stdout. </aside>
                  </section>
                </section>
                <section data-state="lab">
                  <h3>Lab 5.0: Sauce OnDemand</h3>
                  <p>Configure Sauce Connect on Jenkins</p>
                  <p>Run a test using the Jenkins Pipeline</p>
                </section>

                
                 <!--Testing Techniques-->
                 <section data-background="rgb(226, 35, 26)">
                   <h2>Testing Techniques: Best Practices</h2>
                   <aside class="notes">General best practices, testing methodology</aside>
                 </section>

                <section>
                  <h3>Module Objectives</h3>
                  <p>This module enables you to:</p>
                  <ul>
                    <li>Understand testing strategies that can help you set up your automated testing</li>
                    <li>Label, name and tag your tests to faciliate searching for past tests on Sauce Labs</li>
                  </ul>
                  <aside class="notes"></aside>
                </section>
                
                   <section>
                     <h3>Different Kinds of Tests</h3>
                     <p>Functional Testing</p>
                     <ul><li>Test a functionality or feature of your application's that results in a pass or a failure.</li></ul>
                     <p>Performance Testing</p>
                     <ul><li>Performance tests gauge and output performance metrics for your application.</li></ul>
                     <aside class="notes">
                       <p>Functional testing is what Sauce Labs offers to help faciliate and simplify for it's users.</p>
                       <p>Performance testing serves to answer questions suchas, can your application server handle a particular load, and does it behave as expected when you push it to its limit? These types of tests are better undertaken with a testing infrastructure that has been specifically developed for performance testing, so all baseline performance metrics are well established and understood before you start the test.</p>
                       <p>Some eaxmples of performance testing helpers (similar to sauce labs):</p>
                     </aside>
                   </section>
                   <section>
                   <h3>Checking Network Connectivity</h3>
                  <ul>
                    <p> Use the following commands to confirm if Sauce Connect can access saucelabs.com</p>
                    <li><p>ping command</p><pre><code class="java" data-trim contenteditable>
                        $ ping saucelabs.com
                    </code></pre></li>
                    <li><p>telnet command</p><pre><code class="java" data-trim contenteditable>
                        $ telnet saucelabs.com 443 
                    </code></pre></li>
                    <li><p>curl command</p><pre><code class="java" data-trim contenteditable>
                        $ curl -v https://saucelabs.com/
                    </code></pre></li>
                  </ul>
                  <aside class="notes">If you know of the existence of a proxy but you aren't sure about the security configurations, you need to make sure that saucelabs.com is accessible from the machine running Sauce Connect. This can be tested by issuing a ping, telnet, or cURL command to saucelabs.com from the machine's CLI. If any of the commands fail, work with the internal network team to troubleshoot and resolve the issue.</aside>
                </section>

                    <!-- <section>
                     <h3>Small, Atomic, and Autonomous Testing</h3>
                     <p>Small: Tests should be short and succinct</p>
                     <p>Atomic: Tests should focus on testing a single feature.</p>
                     <p>Autonomous: Tests should be independent of other tests.</p>

                     <aside class="notes">

                       <p>Short - If you have a test suite of 100 tests running concurrently on 100 VMs, then the time it will take to run the entire suite will be determined by the longest/slowest test case. Keeping your tests small ensures that your suite will run efficiently and provide you with results faster. </p>
                       <p>Atomic - The test makes clear exactly what it is that you're testing. If the test fails, then you should also have a very clear idea of what needs to be fixed. </p>
                       <p>Autonomous - Tests should not be dependent on the results of one test to run successfully. In addition, an autonomous test should use its own data to test against, and not create potential conflicts with other tests over the same data.  </p>
                     </aside>
                </section> -->

                   <section>
                     <h3>Parallelization</h3>
                     <p>Avoid dependencies between tests</p>
                     <ul><li>If you chain tests together, when one at the top fails, then they will all fail.</li></ul>
                     <p>Use Frameworks</p>
                     <ul><li>Frameworks include helpful libraries and functionality that can help you make the most of parallelization.</li></ul>
                     <aside class="notes">
                       <p>Running tests in parallel is the secret Sauce for accelerating your development process and creating a continuous integration/continuous delivery pipeline.</p>
                       <p>One of the main features that Sauce Labs offers is parallelization, the ability to run serveral scripts at once on a variety of platforms. Since tests and commands are sent remotely, these tests take longer to run individually, but with parallelization, we can run them all at once. That is, we can start them all at the same time, which cuts down on the total time tests would normally take, saving time and money for your teams and business.</p>
                       <p>It's good to avoid dependencies between tests. This goes along with the atomic testing strategy, where we want to create autonomous tests, so that they don't depend on each other, and when one fails, then we know exactly what failed.</p>
                     </aside>
                   </section>
                   <section>
                    <h3>Parrallelization with CI/CD Plugins</h3>
                    <p>Check the documentation for best practices for a given platform. Using Jenkins as an example: </p>
                    <ul><li>Configure test scripts according to best practices</li>
                      <li>Setup Jenkins to run as a <a href="https://wiki.saucelabs.com/display/DOCS/Configuring+Jenkins+Matrix+Projects+with+Sauce"target="_blank">Matrix project</a></li>
                      <li>Configure Jenkins build as a Parameterized Build</li>
                    </ul>
                  </section>
                   <section>
                     <section>
                       <h3>Label Your Tests</h3>
                       <p>
                         <li>ID tests</li>
                         <li>Name tests</li>
                         <li>Apply build names to tests</li>
                       </p>

                       <pre><code class="java" data-trim contenteditable>
                           caps.setCapability("tags","tag_awesome");
caps.setCapability("build","cool_builds1");
caps.setCapability("name","Java Remote Sample Test");
                       </code></pre>
                       <p style="text-align:center;">Docs: <a href="https://wiki.saucelabs.com/display/DOCS/Test+Configuration+Options" target="_blank">Test Configuration Options</a></p>
                       <aside class="notes"></aside>
                     </section>

                     <section data-state="lab">
                       <h3>Lab: Labelling and Naming our Tests</h3>
                       <p>This is the lab where we apply labels to our test, run it again, and see the label appear in sauce labs</p>
                       <aside class="notes">There's also a way to set your own build number as well</aside>
                     </section>
                   </section>
                   <section>
                    <h3>The Doctor flag</h3>
                    <p>The --doctor flag, helps debug problems with Sauce Connect Proxy</p>
                    <ul>
                    <li>"failed to fetch PAC file ...: ..."</li>
                    <li>"invalid REST URL ..."</li>
                    <li>"can't resolve 'saucelabs.com'/... tunnel hostname(s) via any DNS server"</li>
                  </ul>
                  <p><a href="https://wiki.saucelabs.com/display/DOCS/Troubleshooting+Sauce+Connect+with+--doctor" target="_blank">Full list of errors and solutions</a></p>

                    <aside class="notes">--doctor is a command line utility that you can use to diagnose issues with Sauce Connect Proxy. The doctor flag can detect errors such as failing to download the PAC file, there are invalid REST endpoints, any firwewall or DNS setting errors.</aside>
                  </section>

                 <section data-background="rgb(226, 35, 26)">
                   <h2>Additional Resources</h2>
                 </section>

                 <section>
                  <h3>Further Information</h3>
                  <li><a href="https://wiki.saucelabs.com/display/DOCS/Sauce+Connect+Proxy" target="_blank">Sauce Connect Documentation</a></li>
                  <li><a href="https://wiki.saucelabs.com/display/DOCS/The+Sauce+Labs+REST+API" target="_blank">REST API documentation</a></li>
                  <li><a href="https://wiki.saucelabs.com/display/DOCS/The+Sauce+Labs+Cookbook+Home" target="_blank">Sauce Labs Documentation</a></li>
                  <li><a href="https://github.com/saucelabs-sample-scripts" target="_blank">Sauce Labs Sample Test Scripts</a></li>
                  <li><a href="https://github.com/saucelabs-sample-test-frameworks" target="_blank">Sauce Labs Sample Test Frameworks</a></li>
                  <li><a href="https://wiki.saucelabs.com/display/DOCS/Using+Sauce+Labs+with+Continuous+Integration+Platforms" target="_blank">CI/CD Platform Documentation</a></li>
                  <aside class="notes"></aside>
                 </section>

                 <section>
                   <h3>Q&A</h3>
                   <li>Insert link to survey</li>
                   <li>Support: <a href="mailto:help@saucelabs.com" target="_top">help@saucelabs.com</a></li>
                   <aside class="notes"></aside>
                 </section>

            </div>


		</div>

      <script src="lib/js/head.min.js"></script>
	  <script src="js/reveal.js"></script>

	  <script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
                slideNumber: true,
				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
          			{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'lib/js/jquery-2.2.4.min.js'},
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/external/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

            Reveal.addEventListener( 'slidechanged', function( event ) {
//            console.log(event.currentSlide.getAttribute("data-state"))
// if we're on a lab slide, unhide the lab image, otherwise hide it.

            if(event.currentSlide.getAttribute("data-state") === "lab") {
            document.getElementById("lab_pic").style.visibility="visible";
            }else{
            document.getElementById("lab_pic").style.visibility="hidden";
            }

            } );

		</script>

	</body>
</html>
